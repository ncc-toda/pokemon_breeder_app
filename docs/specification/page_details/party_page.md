# パーティ画面 詳細設計書

## 概要

ユーザーが編成したパーティのポケモン（最大 6 匹）を表示し、育成を行うための画面。
本画面は、ボトムナビゲーションバーの「パーティ」タブからアクセスされる。

## 目的

- 現在のパーティ構成を一覧で確認できるようにする。
- 各ポケモンの育成（進化・退化）の操作を提供する。
- パーティからポケモンを削除する機能を提供する。

## レイアウト・デザイン

- **全体**:
  - 画面上部に「My Party」などのタイトルを表示する。
  - 6 つのポケモンスロットをグリッド形式（2 列 x 3 行）で表示する。
- **配色・フォント**:
  - アプリ全体のテーマに準拠する。

## コンポーネント仕様

### ポケモンスロット

- **機能**:
  - 6 匹分のスロットを用意する。
  - ポケモンが設定されているスロットと、空のスロットで表示を分ける。
  - **設定済みスロット**:
    - ポケモンの画像、名前、育成カウンターを表示する。
    - ポケモンを長押しすると、パーティから削除するための確認ダイアログを表示する。
  - **空スロット**:
    - 「+」アイコンなどを表示し、タップすると図鑑画面へ遷移することを促す。
- **UI**:
  - カード形式で各スロットを表現する。
  - ポケモンの情報が中央に配置される。

### 育成カウンター

- **機能**:
  - 各ポケモンのカード内に、進化用と退化用の 2 つのカウンターを設ける。
  - カウンターはボタンとして機能し、タップするとカウントが 1 ずつ増加する。
  - カウント数はポケモンのデータと共にローカル DB に永続化される。
  - カウントが規定回数（例: 5 回）に達すると、ボタンは活性化し、タップすると「進化・退化確認画面」へ遷移する。
  - 該当のポケモンがそれ以上進化または退化できない場合、対応するカウンターを非表示または非活性にする。
    - 例: フシギダネの場合、退化はできないので退化カウンターは非表示。
    - 例: フシギバナの場合、進化はできないので進化カウンターは非表示。
- **UI**:
  - 進化用カウンターは上矢印（🔼）、退化用カウンターは下矢印（🔽）などのアイコンで表現する。
  - 現在のカウント数をアイコンの横に表示する (`x/5` のように)。
  - 規定回数に達していない場合は、カウンターを半透明にするなど非活性な見た目にする。

### ポケモン削除確認ダイアログ

- **機能**:
  - ポケモンスロットを長押しした際に表示される。
  - 「パーティから外しますか？」というメッセージと共に、「はい」「いいえ」の選択肢を提示する。
  - 「はい」を選択すると、対象のポケモンがパーティから削除され、ローカルデータベースの情報も更新される。
- **UI**:
  - `AlertDialog` を使用する。
  - 対象のポケモンの画像と名前を表示する。

## 非機能要件

- **データ永続化**:
  - パーティ情報と育成カウンターの状態は、アプリを閉じても保持されるようにローカルデータベースに保存する。
- **即時性**:
  - ポケモンの追加・削除、カウンターの更新は即座に UI に反映されるようにする。
