/// ポケモンの進化情報を管理するクラス。
class EvolutionData {
  const EvolutionData._();

  /// 進化マップ。キーは進化前のポケモンID、値は進化後のポケモンID。
  static const Map<int, int> _evolutionMap = {
    // フシギダネ系統
    1: 2,   // フシギダネ → フシギソウ
    2: 3,   // フシギソウ → フシギバナ
    
    // ヒトカゲ系統
    4: 5,   // ヒトカゲ → リザード
    5: 6,   // リザード → リザードン
    
    // ゼニガメ系統
    7: 8,   // ゼニガメ → カメール
    8: 9,   // カメール → カメックス
    
    // キャタピー系統
    10: 11, // キャタピー → トランセル
    11: 12, // トランセル → バタフリー
    
    // ビードル系統
    13: 14, // ビードル → コクーン
    14: 15, // コクーン → スピアー
    
    // ポッポ系統
    16: 17, // ポッポ → ピジョン
    17: 18, // ピジョン → ピジョット
    
    // コラッタ系統
    19: 20, // コラッタ → ラッタ
    
    // オニスズメ系統
    21: 22, // オニスズメ → オニドリル
    
    // アーボ系統
    23: 24, // アーボ → アーボック
    
    // ピカチュウ系統
    25: 26, // ピカチュウ → ライチュウ
    
    // サンド系統
    27: 28, // サンド → サンドパン
    
    // ニドラン♀系統
    29: 30, // ニドラン♀ → ニドリーナ
    30: 31, // ニドリーナ → ニドクイン
    
    // ニドラン♂系統
    32: 33, // ニドラン♂ → ニドリーノ
    33: 34, // ニドリーノ → ニドキング
    
    // プリン系統
    39: 40, // プリン → プクリン
    
    // ズバット系統
    41: 42, // ズバット → ゴルバット
    
    // ナゾノクサ系統
    43: 44, // ナゾノクサ → クサイハナ
    44: 45, // クサイハナ → ラフレシア
    
    // パラス系統
    46: 47, // パラス → パラセクト
    
    // コンパン系統
    48: 49, // コンパン → モルフォン
    
    // ディグダ系統
    50: 51, // ディグダ → ダグトリオ
    
    // ニャース系統
    52: 53, // ニャース → ペルシアン
    
    // コダック系統
    54: 55, // コダック → ゴルダック
    
    // マンキー系統
    56: 57, // マンキー → オコリザル
    
    // ガーディ系統
    58: 59, // ガーディ → ウインディ
    
    // ニョロモ系統
    60: 61, // ニョロモ → ニョロゾ
    61: 62, // ニョロゾ → ニョロボン
    
    // ケーシィ系統
    63: 64, // ケーシィ → ユンゲラー
    64: 65, // ユンゲラー → フーディン
    
    // ワンリキー系統
    66: 67, // ワンリキー → ゴーリキー
    67: 68, // ゴーリキー → カイリキー
    
    // マダツボミ系統
    69: 70, // マダツボミ → ウツドン
    70: 71, // ウツドン → ウツボット
    
    // メノクラゲ系統
    72: 73, // メノクラゲ → ドククラゲ
    
    // イシツブテ系統
    74: 75, // イシツブテ → ゴローン
    75: 76, // ゴローン → ゴローニャ
    
    // ポニータ系統
    77: 78, // ポニータ → ギャロップ
    
    // ヤドン系統
    79: 80, // ヤドン → ヤドラン
    
    // コイル系統
    81: 82, // コイル → レアコイル
    
    // ドードー系統
    84: 85, // ドードー → ドードリオ
    
    // パウワウ系統
    86: 87, // パウワウ → ジュゴン
    
    // ベトベター系統
    88: 89, // ベトベター → ベトベトン
    
    // シェルダー系統
    90: 91, // シェルダー → パルシェン
    
    // ゴース系統
    92: 93, // ゴース → ゴースト
    93: 94, // ゴースト → ゲンガー
    
    // スリープ系統
    96: 97, // スリープ → スリーパー
    
    // クラブ系統
    98: 99, // クラブ → キングラー
    
    // ビリリダマ系統
    100: 101, // ビリリダマ → マルマイン
    
    // タマタマ系統
    102: 103, // タマタマ → ナッシー
    
    // カラカラ系統
    104: 105, // カラカラ → ガラガラ
    
    // エビワラー、サワムラーは進化なし（バルキーはGen2）
    
    // ベロリンガ → ベロベルト（Gen4だが分かりやすい例として）
    108: 463, // ベロリンガ → ベロベルト
    
    // ドガース系統
    109: 110, // ドガース → マタドガス
    
    // サイホーン系統
    111: 112, // サイホーン → サイドン
    
    // タッツー系統
    116: 117, // タッツー → シードラ
    
    // トサキント系統
    118: 119, // トサキント → アズマオウ
    
    // コイキング系統
    129: 130, // コイキング → ギャラドス
    
    // イーブイ系統（デフォルトはシャワーズ）
    133: 134, // イーブイ → シャワーズ（水の石）
    
    // オムナイト系統
    138: 139, // オムナイト → オムスター
    
    // カブト系統
    140: 141, // カブト → カブトプス
    
    // プテラ、カビゴン、伝説系は進化なし
    
    // ミニリュウ系統
    147: 148, // ミニリュウ → ハクリュー
    148: 149, // ハクリュー → カイリュー
  };

  /// 逆引きマップ。キーは進化後のポケモンID、値は進化前のポケモンID。
  static const Map<int, int> _devolutionMap = {
    // フシギダネ系統
    2: 1,   // フシギソウ → フシギダネ
    3: 2,   // フシギバナ → フシギソウ
    
    // ヒトカゲ系統
    5: 4,   // リザード → ヒトカゲ
    6: 5,   // リザードン → リザード
    
    // ゼニガメ系統
    8: 7,   // カメール → ゼニガメ
    9: 8,   // カメックス → カメール
    
    // キャタピー系統
    11: 10, // トランセル → キャタピー
    12: 11, // バタフリー → トランセル
    
    // ビードル系統
    14: 13, // コクーン → ビードル
    15: 14, // スピアー → コクーン
    
    // ポッポ系統
    17: 16, // ピジョン → ポッポ
    18: 17, // ピジョット → ピジョン
    
    // コラッタ系統
    20: 19, // ラッタ → コラッタ
    
    // オニスズメ系統
    22: 21, // オニドリル → オニスズメ
    
    // アーボ系統
    24: 23, // アーボック → アーボ
    
    // ピカチュウ系統
    26: 25, // ライチュウ → ピカチュウ
    
    // サンド系統
    28: 27, // サンドパン → サンド
    
    // ニドラン♀系統
    30: 29, // ニドリーナ → ニドラン♀
    31: 30, // ニドクイン → ニドリーナ
    
    // ニドラン♂系統
    33: 32, // ニドリーノ → ニドラン♂
    34: 33, // ニドキング → ニドリーノ
    
    // プリン系統
    40: 39, // プクリン → プリン
    
    // ズバット系統
    42: 41, // ゴルバット → ズバット
    
    // ナゾノクサ系統
    44: 43, // クサイハナ → ナゾノクサ
    45: 44, // ラフレシア → クサイハナ
    
    // パラス系統
    47: 46, // パラセクト → パラス
    
    // コンパン系統
    49: 48, // モルフォン → コンパン
    
    // ディグダ系統
    51: 50, // ダグトリオ → ディグダ
    
    // ニャース系統
    53: 52, // ペルシアン → ニャース
    
    // コダック系統
    55: 54, // ゴルダック → コダック
    
    // マンキー系統
    57: 56, // オコリザル → マンキー
    
    // ガーディ系統
    59: 58, // ウインディ → ガーディ
    
    // ニョロモ系統
    61: 60, // ニョロゾ → ニョロモ
    62: 61, // ニョロボン → ニョロゾ
    
    // ケーシィ系統
    64: 63, // ユンゲラー → ケーシィ
    65: 64, // フーディン → ユンゲラー
    
    // ワンリキー系統
    67: 66, // ゴーリキー → ワンリキー
    68: 67, // カイリキー → ゴーリキー
    
    // マダツボミ系統
    70: 69, // ウツドン → マダツボミ
    71: 70, // ウツボット → ウツドン
    
    // メノクラゲ系統
    73: 72, // ドククラゲ → メノクラゲ
    
    // イシツブテ系統
    75: 74, // ゴローン → イシツブテ
    76: 75, // ゴローニャ → ゴローン
    
    // ポニータ系統
    78: 77, // ギャロップ → ポニータ
    
    // ヤドン系統
    80: 79, // ヤドラン → ヤドン
    
    // コイル系統
    82: 81, // レアコイル → コイル
    
    // ドードー系統
    85: 84, // ドードリオ → ドードー
    
    // パウワウ系統
    87: 86, // ジュゴン → パウワウ
    
    // ベトベター系統
    89: 88, // ベトベトン → ベトベター
    
    // シェルダー系統
    91: 90, // パルシェン → シェルダー
    
    // ゴース系統
    93: 92, // ゴースト → ゴース
    94: 93, // ゲンガー → ゴースト
    
    // スリープ系統
    97: 96, // スリーパー → スリープ
    
    // クラブ系統
    99: 98, // キングラー → クラブ
    
    // ビリリダマ系統
    101: 100, // マルマイン → ビリリダマ
    
    // タマタマ系統
    103: 102, // ナッシー → タマタマ
    
    // カラカラ系統
    105: 104, // ガラガラ → カラカラ
    
    // ベロリンガ系統
    463: 108, // ベロベルト → ベロリンガ
    
    // ドガース系統
    110: 109, // マタドガス → ドガース
    
    // サイホーン系統
    112: 111, // サイドン → サイホーン
    
    // タッツー系統
    117: 116, // シードラ → タッツー
    
    // トサキント系統
    119: 118, // アズマオウ → トサキント
    
    // コイキング系統
    130: 129, // ギャラドス → コイキング
    
    // イーブイ系統
    134: 133, // シャワーズ → イーブイ
    
    // オムナイト系統
    139: 138, // オムスター → オムナイト
    
    // カブト系統
    141: 140, // カブトプス → カブト
    
    // ミニリュウ系統
    148: 147, // ハクリュー → ミニリュウ
    149: 148, // カイリュー → ハクリュー
  };

  /// 指定されたポケモンIDの進化先IDを取得する。
  /// 
  /// [pokemonId] 進化前のポケモンID
  /// 戻り値: 進化先のポケモンID。進化しない場合はnull。
  static int? getEvolutionTarget(int pokemonId) {
    return _evolutionMap[pokemonId];
  }

  /// 指定されたポケモンIDの退化先IDを取得する。
  /// 
  /// [pokemonId] 進化後のポケモンID
  /// 戻り値: 退化先のポケモンID。退化しない場合はnull。
  static int? getDevolutionTarget(int pokemonId) {
    return _devolutionMap[pokemonId];
  }

  /// 指定されたポケモンが進化可能かどうかを判定する。
  /// 
  /// [pokemonId] 確認対象のポケモンID
  /// 戻り値: 進化可能な場合true、そうでなければfalse。
  static bool canEvolve(int pokemonId) {
    return _evolutionMap.containsKey(pokemonId);
  }

  /// 指定されたポケモンが退化可能かどうかを判定する。
  /// 
  /// [pokemonId] 確認対象のポケモンID
  /// 戻り値: 退化可能な場合true、そうでなければfalse。
  static bool canDevolve(int pokemonId) {
    return _devolutionMap.containsKey(pokemonId);
  }

  /// すべての進化ペアを取得する。
  /// 
  /// 戻り値: 進化マップ（読み取り専用）。
  static Map<int, int> get allEvolutions => Map.unmodifiable(_evolutionMap);

  /// すべての退化ペアを取得する。
  /// 
  /// 戻り値: 退化マップ（読み取り専用）。
  static Map<int, int> get allDevolutions => Map.unmodifiable(_devolutionMap);
}