# Pokemon Breeder App - 残タスク一覧

## プロジェクト概要

Flutter アーキテクチャ設計・実装の学習用サンプルアプリケーション  
**実装完了度**: 約90%（主要機能は実装済み）

## 実装状況サマリー

### ✅ 完了済み機能
- ポケモン図鑑（無限スクロール、検索機能）
- パーティ編成（最大6匹、追加・削除）
- 進化システム（進化確認・結果画面）
- ローカルDB（SQLite/IndexedDB）
- Clean Architecture実装
- デザインシステム
- エラーハンドリング（Result型）

### ❌ 未完了・要改善項目
以下の項目を優先度別にIssue化することを推奨

---

## Issue #1: 進化システムの完全実装と動作確認
**優先度**: 🔴 高  
**難易度**: ⭐⭐☆  
**工数**: 2-3日

### 背景
- 進化画面は実装済みだが、動作確認が不完全
- 退化機能が仕様書記載にも関わらず未実装
- Navigation統合の完全性確認が必要

### タスク詳細
- [ ] 進化確認画面の動作確認とバグ修正
- [ ] 退化機能の実装（進化の逆処理）
- [ ] 進化・退化時の状態遷移テスト
- [ ] Navigation統合の完全性確認

### 受入基準
- 進化・退化が正常に動作すること
- 進化カウンターが適切に更新されること
- 画面遷移が仕様通りに動作すること

---

## Issue #2: テスト基盤の構築と主要機能のテスト実装
**優先度**: 🔴 高  
**難易度**: ⭐⭐⭐  
**工数**: 3-5日

### 背景
- 現在のテストカバレッジ: 約10%（78ファイル中8テストのみ）
- `local_database_test.dart`でコンパイルエラーが発生
- 製品品質保証のためテスト拡充が急務

### タスク詳細
- [ ] `local_database_test.dart`のコンパイルエラー修正
- [ ] 主要UIコンポーネントのWidget テスト実装
  - ポケモンリスト表示
  - パーティ編成画面
  - 検索機能
- [ ] ドメインロジックのユニットテスト拡充
  - 進化システム
  - パーティ管理
  - ローカルDB操作
- [ ] 統合テストの基盤構築

### 受入基準
- テストカバレッジ60%以上
- 全テストが正常に実行されること
- CI/CDパイプラインでテストが実行されること

---

## Issue #3: ポケモン詳細画面の実装
**優先度**: 🟡 中  
**難易度**: ⭐⭐☆  
**工数**: 2-3日

### 背景
- 仕様書に記載されている詳細画面が未実装
- 複数のTODOコメントで言及されている
- ユーザビリティ向上のため実装が望ましい

### タスク詳細
- [ ] ポケモン詳細画面のUI設計
- [ ] 詳細情報表示機能の実装
  - 基本情報（名前、図鑑番号、タイプ）
  - 進化チェーン
  - 育成状況
- [ ] Navigation統合
- [ ] 関連TODOコメントの解決

### 受入基準
- 図鑑・パーティ画面から詳細画面に遷移できること
- ポケモンの詳細情報が正しく表示されること
- 画面デザインがDesign Systemに準拠していること

---

## Issue #4: オフライン対応とFlavor実装
**優先度**: 🟡 中  
**難易度**: ⭐⭐⭐  
**工数**: 3-4日

### 背景
- 仕様書で必須要件として記載
- 現在はオンライン専用の実装
- 本格運用時にはdev/prod環境分離が必要

### タスク詳細
- [ ] ネットワーク状態監視機能の実装
- [ ] オフライン時のUI対応
  - キャッシュデータの表示
  - オフライン状態の通知
- [ ] Flavor設定の実装
  - dev/prod環境の分離
  - API エンドポイントの切り替え
- [ ] オフライン時の動作確認

### 受入基準
- オフライン時でもキャッシュデータが表示されること
- ネットワーク復帰時にデータが同期されること
- dev/prod環境が適切に分離されていること

---

## Issue #5: 技術的負債の解消とコード品質向上
**優先度**: 🟡 中  
**難易度**: ⭐⭐☆  
**工数**: 2-3日

### 背景
- 型安全性の向上が必要
- 依存関係のアップデートが必要
- コードの保守性向上が求められる

### タスク詳細
- [ ] dynamic型の型安全化
- [ ] 依存関係のアップデート（26パッケージ）
- [ ] TODOコメントの整理と解決
- [ ] エラーハンドリングの統一化
- [ ] コードレビューによる品質向上

### 受入基準
- dynamic型の使用箇所が0になること
- セキュリティパッチが適用されること
- 静的解析でWarningが出ないこと

---

## 追加検討事項

### 技術選択の検討
1. **状態管理ライブラリ**: 現在はRiverpodを使用、問題なし
2. **データベース**: drift（SQLite）使用、Web対応済み
3. **アニメーション**: 進化演出の強化を検討
4. **パフォーマンス**: 現在は良好、メモリリーク監視が必要

### 運用面での検討
1. **ログ収集**: 本格運用時にはクラッシュレポート必要
2. **分析**: ユーザー行動分析の実装検討
3. **CI/CD**: 現在は基本的な設定のみ、強化が必要

---

## 実装優先順位

1. **Issue #1**: 進化システム（製品機能の完成）
2. **Issue #2**: テスト実装（品質保証）
3. **Issue #3**: 詳細画面（ユーザビリティ）
4. **Issue #4**: オフライン対応（運用要件）
5. **Issue #5**: 技術的負債（保守性）

## 完了後の状態

全Issue完了後、本アプリケーションは以下の状態になります：

- ✅ 仕様書要件100%達成
- ✅ テストカバレッジ60%以上
- ✅ 本格運用可能な品質
- ✅ 技術的負債の解消
- ✅ 高い保守性の確保

---

*生成日: 2025-06-26*  
*最終更新: プロジェクト分析実施後*